version: 1

staging:
  primed_stages:
    - model_name: stg_customer
      source_model: raw_customer
      derived_columns:
        CUSTOMER_ID: C_CUSTKEY
        NATION_ID: C_NATIONKEY
        LOAD_DATETIME: "TO_TIMESTAMP('1991-01-01')"
        RECORD_SOURCE: "!TPCH.CUSTOMER"
      hashed_columns:
        CUSTOMER_HK: CUSTOMER_ID
        CUSTOMER_HASHDIFF:
          is_hashdiff: true
          columns:
            - C_PHONE
            - C_NAME
            - C_COMMENT
